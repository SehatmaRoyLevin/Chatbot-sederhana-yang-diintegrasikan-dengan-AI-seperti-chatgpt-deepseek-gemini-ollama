<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple AI Chatbot</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background:#f2f2f2; }
    #chatbox { height:420px; overflow-y:auto; background:white; border-radius:10px; padding:15px; }
    .msg-user { text-align:right; }
    .bubble-user { display:inline-block; background:#0d6efd; color:white; padding:10px; border-radius:12px; margin:6px 0; }
    .bubble-ai { display:inline-block; background:#e9ecef; padding:10px; border-radius:12px; margin:6px 0; }
  </style>
</head>
<body>
<div class="container mt-4">
  <h2 class="text-center mb-3">AI Chatbot</h2>

  <div id="chatbox"></div>

  <div class="input-group mt-3">
    <input id="prompt" class="form-control" placeholder="Ketik pesan...">
    <button class="btn btn-primary" onclick="sendMessage()">Kirim</button>
  </div>

  <div class="mt-3">
    <label class="form-label">Pilih Model AI</label>
    <select id="model" class="form-select">
      <option value="openai">ChatGPT (OpenAI API)</option>
      <option value="deepseek">DeepSeek API</option>
      <option value="gemini">Google Gemini</option>
      <option value="ollama">Ollama (Local)</option>
    </select>
  </div>
</div>

<script>
async function sendMessage() {
  const text = document.getElementById('prompt').value;
  const chatbox = document.getElementById('chatbox');
  const model = document.getElementById('model').value;

  if (!text.trim()) return;

  chatbox.innerHTML += `<div class='msg-user'><div class='bubble-user'>${text}</div></div>`;
  document.getElementById('prompt').value = '';
  chatbox.scrollTop = chatbox.scrollHeight;

  let response = "";

  // ============ SIMPLE BACKEND MOCK ============
  // Kamu bisa ganti dengan API sebenarnya
  if (model === "openai") {
   const api = await fetch("http://localhost:3000/api/chat", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ prompt: text })
});
const data = await api.json();
response = data.reply;

  } else if (model === "deepseek") {
    response = "(DeepSeek) Saya menerima pesan: " + text;
  } else if (model === "gemini") {
    response = "(Gemini) Menjawab: " + text;
  } else if (model === "ollama") {
    response = "(Ollama Local) Pemrosesan: " + text;
  }

  // Tampilkan jawaban
  chatbox.innerHTML += `<div><div class='bubble-ai'>${response}</div></div>`;
  chatbox.scrollTop = chatbox.scrollHeight;
}
</script>
</body>
</html>
